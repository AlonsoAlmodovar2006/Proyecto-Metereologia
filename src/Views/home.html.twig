{% extends "partials/layout.html.twig" %}

{% block content %}
<!-- HERO SECTION -->
<div class="hero-section mb-4">
	<div class="container">
		<div class="row align-items-center">
			<div class="col-lg-8">
				<h1 class="display-5 fw-bold text-prieto mb-3">
					<i class="bi bi-cloud-sun me-2"></i>El tiempo en Valdepeñas
				</h1>
				<p class="lead text-secondary">
					Datos meteorológicos en tiempo real desde el IES Gregorio Prieto
				</p>
			</div>
			<div class="col-lg-4 text-lg-end">
				<div class="update-badge">
					<i class="bi bi-clock me-2"></i>
					<span class="small text-uppercase fw-bold">Última actualización</span>
					<div id="last-update" class="fw-bold fs-5">--:--</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- CARDS MÉTRICAS -->
<div class="container mb-5">
	<div class="row g-3">
		<!-- CARD TEMPERATURA -->
		<div class="col-6 col-md-4 col-lg">
			<a href="/temperatura" class="text-decoration-none">
				<div class="metric-card bg-temp">
					<div class="metric-icon">
						<i class="bi bi-thermometer-half"></i>
					</div>
					<div class="metric-info">
						<span class="metric-label">Temperatura</span>
						<span class="metric-value" id="current-temp">--°C</span>
					</div>
				</div>
			</a>
		</div>
		<!-- CARD HUMEDAD -->
		<div class="col-6 col-md-4 col-lg">
			<a href="/humedad" class="text-decoration-none">
				<div class="metric-card bg-hum">
					<div class="metric-icon">
						<i class="bi bi-moisture"></i>
					</div>
					<div class="metric-info">
						<span class="metric-label">Humedad</span>
						<span class="metric-value" id="current-humidity">--%</span>
					</div>
				</div>
			</a>
		</div>
		<!-- CARD PRESIÓN -->
		<div class="col-6 col-md-4 col-lg">
			<a href="/presion" class="text-decoration-none">
				<div class="metric-card bg-press">
					<div class="metric-icon">
						<i class="bi bi-speedometer2"></i>
					</div>
					<div class="metric-info">
						<span class="metric-label">Presión</span>
						<span class="metric-value" id="current-pressure">-- hPa</span>
					</div>
				</div>
			</a>
		</div>
		<!-- CARD VIENTO -->
		<div class="col-6 col-md-6 col-lg">
			<a href="/viento" class="text-decoration-none">
				<div class="metric-card bg-wind">
					<div class="metric-icon">
						<i class="bi bi-wind"></i>
					</div>
					<div class="metric-info">
						<span class="metric-label">Viento</span>
						<span class="metric-value" id="current-wind">-- km/h</span>
					</div>
				</div>
			</a>
		</div>
		<!-- CARD LLUVIA -->
		<div class="col-12 col-md-6 col-lg">
			<a href="/lluvia" class="text-decoration-none">
				<div class="metric-card bg-rain">
					<div class="metric-icon">
						<i class="bi bi-cloud-rain"></i>
					</div>
					<div class="metric-info">
						<span class="metric-label">Lluvia</span>
						<span class="metric-value" id="current-rain">-- mm</span>
					</div>
				</div>
			</a>
		</div>
	</div>
</div>

<div class="d-none" id="datos">
	{{ datos }}
</div>

<!-- SECCIÓN SOBRE EL PROYECTO -->
<div class="container">
	<div class="info-section">
		<div class="row align-items-center">
			<div class="col-lg-7">
				<h2 class="fw-bold mb-3">
					<i class="bi bi-info-circle me-2 text-prieto"></i>Proyecto 2025-26
				</h2>
				<p class="text-secondary lh-lg">
					Motivados por la novedosa FP Dual, se volvió a retomar un proyecto iniciado en la 2020-21 para actualizarlo y
					mejorarlo. El proyecto consiste en la construcción de una estación meteorológica en el IES Gregorio Prieto
					(Valdepeñas, Ciudad Real). La estación recoge datos, como la cantidad de precipitación o el viento de cada día,
					y se envían a un servidor localizado en ese mismo centro.
				</p>
				<a href="/nosotros" class="btn btn-prieto">
					<i class="bi bi-people me-2"></i>Conoce al equipo
				</a>
			</div>
			<div class="col-lg-5 text-center mt-4 mt-lg-0">
				<img src="/img/logoN.png" alt="IES Gregorio Prieto" class="img-fluid" style="max-width: 200px; opacity: 0.8;">
			</div>
		</div>
	</div>
</div>

<!-- ENLACES RÁPIDOS -->
<div class="container mt-5">
	<h3 class="fw-bold mb-4">
		<i class="bi bi-graph-up me-2 text-prieto"></i>Explorar mediciones
	</h3>
	<div class="row g-3">
		<div class="col-6 col-md-4 col-lg">
			<a href="/temperatura" class="quick-link quick-link-temp">
				<i class="bi bi-thermometer-half"></i>
				<span>Temperatura</span>
			</a>
		</div>
		<div class="col-6 col-md-4 col-lg">
			<a href="/humedad" class="quick-link quick-link-hum">
				<i class="bi bi-moisture"></i>
				<span>Humedad</span>
			</a>
		</div>
		<div class="col-6 col-md-4 col-lg">
			<a href="/presion" class="quick-link quick-link-press">
				<i class="bi bi-speedometer2"></i>
				<span>Presión</span>
			</a>
		</div>
		<div class="col-6 col-md-6 col-lg">
			<a href="/viento" class="quick-link quick-link-wind">
				<i class="bi bi-wind"></i>
				<span>Viento</span>
			</a>
		</div>
		<div class="col-12 col-md-6 col-lg">
			<a href="/lluvia" class="quick-link quick-link-rain">
				<i class="bi bi-cloud-rain"></i>
				<span>Lluvia</span>
			</a>
		</div>
	</div>
</div>

{% endblock %}
{% block javascripts %}
<script src="/js/app.js" type="text/javascript"></script>
{% endblock %}